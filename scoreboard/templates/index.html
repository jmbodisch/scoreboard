<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>{{ config["title"] }}</title>
	<script src="static/index.js" type="text/javascript"></script>
	<link href="static/index.css" rel="stylesheet" />
</head>

<body>
	<div id="app-container">
		<h1 style="color: blue">{{ config["title"] }}</h1>
		<h2>Big Boy Stream Infrastructure</h2>
        <div id="error">
            {% if '' == config["root"] %}
            Your root directory is not configured. Please go to the host machine and add a root directory to the config.json file.
            {% endif %}
        </div>
		<form id="fields" method="POST" action="/update" >
        {% for file in config["files"] %}
        <div class="left-side">
            <a href="/moveup/{{file["name"]}}">
                <img src="../static/icons/move_up_black_24dp.svg" />
            </a>
            <a href="/movedown/{{file["name"]}}">
                <img src="../static/icons/move_down_black_24dp.svg" />
            </a>
        
			<label for="{{file["name"]}}">{{file["label"]}}</label>
        </div>
			<div class="right-side">
			    {% if file["type"] == "int" %}
    				<input type="button" id="dec{{file["name"]}}" onclick="decrement('{{file["name"]}}')" value="-" />
    				<input type="number" name="{{file["name"]}}" id="{{file["name"]}}" value="{{file["value"]}}"/>
    				<input type="button" id="inc{{file["name"]}}" onclick="increment('{{file["name"]}}')" value="+" />
    			{% endif %}
    			{% if file["type"] == "string" %}
    			<input type="text" name="{{file["name"]}}" id="{{file["name"]}}" value="{{file["value"]}}"/>
    			{% endif %}
    			{% if file["type"] == "multiline" %}
    			<textarea name="{{file["name"]}}" id="{{file["name"]}}" >{{file["value"]}}</textarea>
    			{% endif %}
                <a href="/delete/{{file["name"]}}">
                    <img src="../static/icons/delete_black_24dp.svg" />
                </a>
			</div>
            <br />
		{% endfor %}
		<input type="submit" value="update" />
        </form>
        <div id="add-field">
            <h3>Add a field</h3>
            <form id="new-field" method="POST" action="/add">
                <label for="type">File Type</label>
                <select id="new-field-type" name="type">
                    <option name="number">int</option>
                    <option name="string">string</option>
                    <option name="multiline">multiline</option>
                </select><br />
                <label for="name">File Name</label>
                <input type="text" name="name" id="new-field-name"/>
                <input type="submit" value="Add field" />
            </form>
        </div>
        <div id="save-config">
            <button id="save" onclick="saveConfig()" value="Save Configuration">Save Configuration</button> 
        </div>
	</div>
</body>

</html>